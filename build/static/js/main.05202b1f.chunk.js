(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e){e.exports={SERVER_ADDRESS:"http://207.154.241.39:8080/api/graphql"}},198:function(e,t,a){e.exports=a(496)},206:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},219:function(e,t){},221:function(e,t){},254:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=254},264:function(e,t){},275:function(e,t){},292:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},417:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},419:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},424:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},427:function(e,t,a){e.exports={blue:"#09e",red:"#f44336",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px"}},429:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#777",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},431:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#777",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},438:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#777",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},445:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},447:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#777",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},449:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},451:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},453:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},459:function(e,t,a){e.exports={blue:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},466:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},468:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},472:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#777",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},474:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#777",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},478:function(e,t,a){e.exports={blue:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},481:function(e,t,a){},486:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#777",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},488:function(e,t,a){e.exports={primary:"#09e",red:"#f96c0e",mainBackground:"#efefff",componentBackground:"#fff",lightText:"#999",whiteText:"#fff",authShadow:"0 1px 3px rgba(0,0,0,.6)",pageShadow:"0 2px 2px rgba(0,0,0,.6)",TOPBAR_HEIGHT:"60px",componentWidth:"90%",lightGrey:"#e3e3e3"}},496:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"feedback",function(){return y}),a.d(n,"session",function(){return pe}),a.d(n,"content",function(){return Ne}),a.d(n,"user",function(){return yt});var r=a(0),o=a.n(r),s=a(38),c=a.n(s),i=a(8),l=a(9),u=a(11),p=a(10),m=a(12),f=a(35),h=a(197),g=a(180),d=a.n(g),E=a(60),S=a(504),b=a(503),T=a(501),x=a(502),C=(a(206),a(105)),O=a(24),v={fetching:!1,errors:[]};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return t.type.includes("_REQUEST")?Object(O.a)({},e,{fetching:!0}):t.type.includes("_FAILURE")?Object(O.a)({},e,{fetching:!1,errors:Object(C.a)(e.errors).concat([t.error])}):Object(O.a)({},e,{fetching:!1})}var _=a(22),w=a.n(_),R=a(6),k=a(36),j=a.n(k),U={owner:{fields:["username"]}},G={access:{fields:["name"]}},N={groups:{fields:["name",G]}},A={likes:{fields:["username"]}},L={node:{fields:["id","timestamp",U,"body","title"]}},I={topic:{fields:[{edges:{fields:[L]}}]}},P={comments:{fields:[{edges:{fields:[{node:{fields:["body","timestamp",A,U]}}]}}]}},H={settings:{fields:["language"]}},B={error:{fields:["error","message","statusCode"]}},M={category:{fields:["id","name"]}},F={edges:{fields:[{node:{fields:["id","name"]}}]}},Q={category:{fields:[F]}},W={edges:{fields:[L]}},D=function(){return{operation:{name:"me",fields:["username","email",G,N,H,B]}}},q=a(181).SERVER_ADDRESS,z=function(){return{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(localStorage.getItem("token"))},debug:!1}},V=function(e,t){return j.a.mutation(q,function(e,t){return{operation:{name:"login",args:{username:e,password:t},fields:["username","email","token",H,B]}}}(e,t),z()).then(function(e){return{user:e.data.login}}).catch(function(e){return{error:e}})},Y=function(e,t,a){return j.a.mutation(q,function(e,t,a){return{operation:{name:"register",args:{username:e,email:t,password:a},fields:["username","email","token",H,B]}}}(e,t,a),z()).then(function(e){return{user:e.data.register}}).catch(function(e){return{error:e}})},Z=function(){return j.a.query(q,D(),z()).then(function(e){return{user:e.data.me}}).catch(function(e){return{error:e}})},$=function(){return j.a.query(q,{operation:{name:"categories",fields:[F,B]}},z()).then(function(e){return{categories:e.data.categories}}).catch(function(e){return{error:e}})},J=function(e){return j.a.query(q,function(e){return{operation:{name:"category",args:{id:e},fields:["id","name",B]}}}(e),z()).then(function(e){return{category:e.data.category}}).catch(function(e){return{error:e}})},K=function(e){return j.a.query(q,function(e){return{operation:{name:"topics",args:{category:e},fields:[W,B]}}}(e),z()).then(function(e){return{topics:e.data.topics}}).catch(function(e){return{error:e}})},X=function(e){return j.a.query(q,function(e){return{operation:{name:"topic",args:{id:e},fields:["title","timestamp","body","title",U,M,P,B]}}}(e),z()).then(function(e){return{topic:e.data.topic}}).catch(function(e){return{error:e}})},ee=function(e,t,a){return j.a.mutation(q,function(e,t,a){return{operation:{name:"createTopic",args:{category:e,title:t,body:a},fields:["id",B]}}}(e,t,a),z()).then(function(e){return{topic:e.data.createTopic}}).catch(function(e){return{error:e}})},te=function(){return j.a.query(q,D(),z()).then(function(e){return{user:e.data.me}}).catch(function(e){return{error:e}})},ae=function(e,t){return j.a.mutation(q,function(e,t){return{operation:{name:"createMessage",args:{topic:e,body:t},fields:["body","timestamp",U,A,B]}}}(e,t),z()).then(function(e){return{comment:e.data.createMessage}}).catch(function(e){return{error:e}})},ne=function(e,t){return j.a.mutation(q,function(e,t){return{operation:{name:"changeEmail",args:{email:e,password:t},fields:["username","email",H,B]}}}(e,t),z()).then(function(e){return{settings:e.data}}).catch(function(e){return{error:e}})},re=function(e,t){return j.a.mutation(q,function(e,t){return{operation:{name:"changePassword",args:{password:e,newPassword:t},fields:["username","email",H,B]}}}(e,t),z()).then(function(e){return{settings:e.data}}).catch(function(e){return{error:e}})},oe=function(e){var t,a='{\\"language\\": \\"'.concat(e,'\\"}');return j.a.mutation(q,(t=a,{operation:{name:"changeSettings",args:{settings:t},fields:["username","email",H,B]}}),z()).then(function(e){return{settings:e.data}}).catch(function(e){return{error:e}})},se=function(e){return j.a.query(q,(t=e,{operation:{name:"search",args:{value:t},fields:[Q,I,B]}}),z()).then(function(e){return{result:e.data}}).catch(function(e){return{error:e}});var t},ce={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",LOGOUT_FAILURE:"LOGOUT_FAILURE",REGISTER_REQUEST:"REGISTER_REQUEST",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE",GET_USER_REQUEST:"GET_USER_REQUEST",GET_USER_SUCCESS:"GET_USER_SUCCESS",GET_USER_FAILURE:"GET_USER_FAILURE"},ie={login:function(e,t){return{type:ce.LOGIN_REQUEST,info:"Logging in...",username:e,password:t}},logout:function(e,t){return{type:ce.LOGOUT_REQUEST,info:"Logging out..."}},register:function(e,t,a){return{type:ce.REGISTER_REQUEST,info:"Registering user...",username:e,password:a,email:t}},getUser:function(){return{type:ce.GET_USER_REQUEST,info:"Fetching user..."}}},le={login:w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(V,t.username,t.password);case 2:if(!(a=e.sent).error&&!a.user.error){e.next=8;break}return e.next=6,Object(R.c)({type:ce.LOGIN_FAILURE,error:a.error.message||a.user.error});case 6:e.next=11;break;case 8:return localStorage.setItem("token",a.user.token),e.next=11,Object(R.c)({type:ce.LOGIN_SUCCESS,info:"User logged in",user:a.user});case 11:case"end":return e.stop()}},e,this)}),logout:w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("token"),e.next=3,Object(R.c)({type:ce.LOGOUT_SUCCESS});case 3:case"end":return e.stop()}},e,this)}),register:w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(Y,t.username,t.email,t.password);case 2:if(!(a=e.sent).error&&!a.user.error){e.next=8;break}return e.next=6,Object(R.c)({type:ce.REGISTER_FAILURE,error:a.error.message||a.user.error});case 6:e.next=11;break;case 8:return localStorage.setItem("token",a.user.token),e.next=11,Object(R.c)({type:ce.REGISTER_SUCCESS,info:"Registered user",user:a.user});case 11:case"end":return e.stop()}},e,this)}),getUser:w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(Z);case 2:if(!(t=e.sent).error&&!t.user.error){e.next=8;break}return e.next=6,Object(R.c)({type:ce.GET_USER_FAILURE,error:t.error.message||t.user.error});case 6:e.next=10;break;case 8:return e.next=10,Object(R.c)({type:ce.GET_USER_SUCCESS,info:"Fetched user",user:t.user});case 10:case"end":return e.stop()}},e,this)}),actionWatcher:w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.e)(ce.LOGIN_REQUEST,le.login);case 2:return e.next=4,Object(R.e)(ce.LOGOUT_REQUEST,le.logout);case 4:return e.next=6,Object(R.e)(ce.REGISTER_REQUEST,le.register);case 6:return e.next=8,Object(R.e)(ce.GET_USER_REQUEST,le.getUser);case 8:case"end":return e.stop()}},e,this)})},ue={user:null,info:"Press the button"};function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.LOGIN_REQUEST:return Object(O.a)({},e,{info:t.info});case ce.LOGIN_SUCCESS:return Object(O.a)({},e,{user:t.user,info:t.info});case ce.LOGOUT_SUCCESS:return Object(O.a)({},e,{user:null,info:t.info});case ce.REGISTER_SUCCESS:case ce.GET_USER_SUCCESS:return Object(O.a)({},e,{user:t.user,info:t.info});default:return e}}var me=a(25),fe=a(26),he=a.n(fe),ge=a(53),de=a.n(ge),Ee=a(42),Se=a.n(Ee),be=(a(292),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.session.login",{returnObjects:!0})},a.checkLoggedIn=function(){a.props.session.user&&a.props.onLoggedIn()},a.state={username:"",password:""},document.title="Login",a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkLoggedIn()}},{key:"componentDidUpdate",value:function(){this.getLocales(),this.checkLoggedIn()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Login"},o.a.createElement("div",{className:"Form"},o.a.createElement("div",{className:"Fields"},o.a.createElement("div",null,o.a.createElement(de.a,{label:this.texts.fields.username,type:"email",margin:"normal",variant:"outlined",fullWidth:!0,value:this.state.username,onChange:function(t){e.setState({username:t.target.value})}}),o.a.createElement(de.a,{label:this.texts.fields.password,type:"password",autoComplete:"password",margin:"normal",variant:"outlined",fullWidth:!0,value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}))),o.a.createElement("div",{className:"Submit"},o.a.createElement(he.a,{onClick:function(){return e.props.login(e.state.username,e.state.password)},size:"large"},this.texts.loginButton),o.a.createElement("div",null,this.props.feedback.fetching&&o.a.createElement(Se.a,{className:"spinner",size:30})),o.a.createElement("div",{className:"footer"},o.a.createElement("p",null,this.texts.notAMember),o.a.createElement("p",{className:"register",onClick:this.props.goToRegister}," ",this.texts.register," ")))))}}]),t}(r.Component)),Te=Object(me.b)("translations")(be),xe=(a(417),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.session.register",{returnObjects:!0})},a.checkLoggedIn=function(){a.props.session.user&&a.props.onLoggedIn()},a.validator=function(e,t,n,r){return a.validateEmail(e)?a.validateUsername(t)?!!a.validatePassword(n,r)||(alert("Passwords must match and be longer than 4 characters"),!1):(alert("invalid username"),!1):(alert("Invalid email"),!1)},a.validateEmail=function(e){return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},a.validateUsername=function(e){return!!/^[a-zA-Z0-9.\-_$@*!]{3,30}$/.test(String(e).toLowerCase())},a.validatePassword=function(e,t){return!(e!==t||e.length<4)},a.state={username:"",email:"",password:"",passwordRepeat:""},document.title="Register",a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkLoggedIn()}},{key:"componentDidUpdate",value:function(){this.getLocales(),this.checkLoggedIn()}},{key:"registerUser",value:function(e,t,a,n){this.validator(e,t,a,n)&&this.props.register(t,e,a)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Register"},o.a.createElement("div",{className:"Form"},o.a.createElement("div",{className:"Fields"},o.a.createElement("div",null,o.a.createElement(de.a,{label:this.texts.fields.username,inputProps:{max:16},margin:"normal",variant:"outlined",fullWidth:!0,value:this.state.username,onChange:function(t){e.setState({username:t.target.value})}}),o.a.createElement(de.a,{label:this.texts.fields.email,type:"email",autoComplete:"email",margin:"normal",variant:"outlined",fullWidth:!0,value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}}),o.a.createElement(de.a,{label:this.texts.fields.password,type:"password",autoComplete:"password",margin:"normal",variant:"outlined",fullWidth:!0,value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}),o.a.createElement(de.a,{label:this.texts.fields.repeatPassword,type:"password",autoComplete:"password",margin:"none",variant:"outlined",fullWidth:!0,value:this.state.passwordRepeat,onChange:function(t){e.setState({passwordRepeat:t.target.value})}}))),o.a.createElement("div",{className:"Submit"},o.a.createElement(he.a,{onClick:function(){return e.registerUser(e.state.email,e.state.username,e.state.password,e.state.passwordRepeat)},size:"large"},this.texts.registerButton),o.a.createElement("div",null,this.props.feedback.fetching&&o.a.createElement(Se.a,{className:"spinner",size:30})),o.a.createElement("div",{className:"footer"},o.a.createElement("p",null,this.texts.alreadyMember),o.a.createElement("p",{className:"login",onClick:this.props.goToLogin}," ",this.texts.login," ")))))}}]),t}(r.Component)),Ce=Object(me.b)("translations")(xe);var Oe=function(e){return o.a.createElement("h1",null," 404 - page not found :( ")},ve={login:ie.login,register:ie.register,getUser:ie.getUser};function ye(e){return{session:e.session,feedback:e.feedback}}var _e={Login:Object(f.b)(ye,ve)(Te),Register:Object(f.b)(ye,ve)(Ce),NotFound:Oe},we=function(e){return e?e.replace(/\n/g,"%_newline_%"):""},Re=function(e){return e?e.replace(/%_newline_%/g,"\r\n"):""},ke={POST_TOPIC_REQUEST:"POST_TOPIC_REQUEST",POST_TOPIC_SUCCESS:"POST_TOPIC_SUCCESS",POST_TOPIC_FAILURE:"POST_TOPIC_FAILURE",GET_TOPIC_REQUEST:"GET_TOPIC_REQUEST",GET_TOPIC_SUCCESS:"GET_TOPIC_SUCCESS",GET_TOPIC_FAILURE:"GET_TOPIC_FAILURE",GET_CATEGORY_REQUEST:"GET_CATEGORY_REQUEST",GET_CATEGORY_SUCCESS:"GET_CATEGORY_SUCCESS",GET_CATEGORY_FAILURE:"GET_CATEGORY_FAILURE",GET_CATEGORIES_REQUEST:"GET_CATEGORIES_REQUEST",GET_CATEGORIES_SUCCESS:"GET_CATEGORIES_SUCCESS",GET_CATEGORIES_FAILURE:"GET_CATEGORIES_FAILURE",GET_SEARCH_RESULT_REQUEST:"GET_SEARCH_RESULT_REQUEST",GET_SEARCH_RESULT_SUCCESS:"GET_SEARCH_RESULT_SUCCESS",GET_SEARCH_RESULT_FAILURE:"GET_SEARCH_RESULT_FAILURE",POST_COMMENT_REQUEST:"POST_COMMENT_REQUEST",POST_COMMENT_SUCCESS:"POST_COMMENT_SUCCESS",POST_COMMENT_FAILURE:"POST_COMMENT_FAILURE"},je={postTopic:function(e,t,a){return{type:ke.POST_TOPIC_REQUEST,info:"posting topic...",category:e,title:t,body:a}},getTopic:function(e){return{type:ke.GET_TOPIC_REQUEST,info:"fetching topic...",topic:e}},postComment:function(e,t){return{type:ke.POST_COMMENT_REQUEST,info:"posting comment...",topic:e,comment:t}},getCategory:function(e){return{type:ke.GET_CATEGORY_REQUEST,info:"fetching topic...",id:e}},getCategories:function(){return{type:ke.GET_CATEGORIES_REQUEST,info:"fetching categories..."}},getSearchResult:function(e){return{type:ke.GET_SEARCH_RESULT_REQUEST,info:"fetching search result...",query:e}}},Ue={postTopic:w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(ee,t.category,t.title,we(t.body));case 2:if(!(a=e.sent).error&&!a.topic.id.error){e.next=8;break}return e.next=6,Object(R.c)({type:ke.POST_TOPIC_FAILURE,error:a.error.message||a.topic.id.error});case 6:e.next=10;break;case 8:return e.next=10,Object(R.c)({type:ke.POST_TOPIC_SUCCESS,info:"Fetched topic",topic:a.topic});case 10:case"end":return e.stop()}},e,this)}),getTopic:w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(X,t.topic);case 2:if(!(a=e.sent).error&&!a.topic.error){e.next=8;break}return e.next=6,Object(R.c)({type:ke.GET_TOPIC_FAILURE,error:a.error.message||a.topic.error});case 6:e.next=10;break;case 8:return e.next=10,Object(R.c)({type:ke.GET_TOPIC_SUCCESS,info:"Fetched topic",topic:a.topic});case 10:case"end":return e.stop()}},e,this)}),getCategory:w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(J,t.id);case 2:return a=e.sent,e.next=5,Object(R.b)(K,t.id);case 5:if(!((n=e.sent).error||n.topics.error||a.error||a.category.error)){e.next=11;break}return e.next=9,Object(R.c)({type:ke.GET_CATEGORY_FAILURE,error:n.error.message||n.topics.error||a.error||a.category.error});case 9:e.next=13;break;case 11:return e.next=13,Object(R.c)({type:ke.GET_CATEGORY_SUCCESS,info:"Registered user",topics:n.topics.edges,category:a.category});case 13:case"end":return e.stop()}},e,this)}),getCategories:w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)($);case 2:if(!(t=e.sent).error&&!t.categories.error){e.next=8;break}return e.next=6,Object(R.c)({type:ke.GET_CATEGORIES_FAILURE,error:t.error.message||t.categories.error});case 6:e.next=10;break;case 8:return e.next=10,Object(R.c)({type:ke.GET_CATEGORIES_SUCCESS,info:"Registered user",categories:t.categories.edges});case 10:case"end":return e.stop()}},e,this)}),postComment:w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(ae,t.topic,we(t.comment));case 2:if(!(a=e.sent).error&&!a.comment.error){e.next=8;break}return e.next=6,Object(R.c)({type:ke.POST_COMMENT_FAILURE,error:a.error.message||a.comment.error});case 6:e.next=10;break;case 8:return e.next=10,Object(R.c)({type:ke.POST_COMMENT_SUCCESS,info:"Posted comment",comment:a.comment});case 10:case"end":return e.stop()}},e,this)}),getSearchResult:w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(se,t.query);case 2:if(a=e.sent,!(n=a.result).error&&!n.search.error){e.next=9;break}return e.next=7,Object(R.c)({type:ke.GET_SEARCH_RESULT_FAILURE,error:n.error.message||n.search.error});case 7:e.next=11;break;case 9:return e.next=11,Object(R.c)({type:ke.GET_SEARCH_RESULT_SUCCESS,info:"Search completed",searchResult:n.search});case 11:case"end":return e.stop()}},e,this)}),actionWatcher:w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.d)(ke.POST_TOPIC_REQUEST,Ue.postTopic);case 2:return e.next=4,Object(R.d)(ke.GET_TOPIC_REQUEST,Ue.getTopic);case 4:return e.next=6,Object(R.d)(ke.GET_CATEGORY_REQUEST,Ue.getCategory);case 6:return e.next=8,Object(R.e)(ke.GET_CATEGORIES_REQUEST,Ue.getCategories);case 8:return e.next=10,Object(R.d)(ke.GET_SEARCH_RESULT_REQUEST,Ue.getSearchResult);case 10:return e.next=12,Object(R.d)(ke.POST_COMMENT_REQUEST,Ue.postComment);case 12:case"end":return e.stop()}},e,this)})},Ge={createTopic:{id:""},topic:{id:"",title:"",description:"",owner:{username:""},timestamp:"",category:"",comments:{edges:[]}},category:{name:"",topics:[]},categories:[],searchResult:{category:{edges:[]},topic:{edges:[]}},info:"Post Topic"};function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.POST_TOPIC_SUCCESS:return Object(O.a)({},e,{info:t.info,createTopic:t.topic});case ke.GET_TOPIC_SUCCESS:return Object(O.a)({},e,{info:t.info,topic:t.topic,createTopic:{id:""}});case ke.GET_CATEGORY_SUCCESS:return Object(O.a)({},e,{info:t.info,category:Object(O.a)({},t.category,{topics:t.topics})});case ke.GET_CATEGORIES_SUCCESS:return Object(O.a)({},e,{info:t.info,categories:t.categories});case ke.POST_COMMENT_SUCCESS:return Object(O.a)({},e,{info:t.info,topic:Object(O.a)({},e.topic,{comments:{edges:Object(C.a)(e.topic.comments.edges).concat([{node:t.comment}])}})});case ke.GET_SEARCH_RESULT_SUCCESS:return Object(O.a)({},e,{info:t.info,query:t.query,searchResult:{category:t.searchResult.category,topic:t.searchResult.topic}});default:return e}}var Ae=a(130),Le=a.n(Ae),Ie=a(20),Pe=a.n(Ie),He=a(30),Be=a.n(He),Me=(a(419),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.content.home",{returnObjects:!0})},document.title="Home Page",a.props.getCategories(),a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.getLocales()}},{key:"render",value:function(){var e,t=this;return e=this.props.feedback.fetching&&0===this.props.content.categories.length?o.a.createElement(Se.a,{className:"Progress"}):o.a.createElement(Le.a,{container:!0,className:"CategoryList"},this.props.content.categories.map(function(e,a){return o.a.createElement(Le.a,{key:a,item:!0},o.a.createElement(Pe.a,{className:"Item",variant:"h5",onClick:function(){t.props.history.push("/"+e.node.id)}},e.node.name))})),o.a.createElement("div",{className:"Home"},o.a.createElement("div",{className:"Header"},o.a.createElement("img",{src:"media/teacup.gif",alt:""}),o.a.createElement(Pe.a,{variant:"h4"}," ",this.texts.title," ")),o.a.createElement(Be.a,{className:"Categories"},e))}}]),t}(r.Component)),Fe=Object(me.b)("translations")(Me),Qe=a(3),We=a.n(Qe),De=a(27),qe=a.n(De),ze=(a(424),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.content.topic.create",{returnObjects:!0})},a.discardTopic=function(){window.confirm("Are you sure?")&&(a.setState({title:"",description:""}),a.context.router.history.goBack())},a.postTopic=function(){a.props.postTopic(a.state.category,a.state.title,a.state.description)},a.handleRedirect=function(){if(""!==a.props.content.createTopic.id){var e=a.props.content.createTopic.id;a.context.router.history.replace(e)}},document.title="Create Topic",a.state={title:"",description:"",category:""},a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.session.user||this.context.router.history.replace("/portal/login"),this.getLocales()}},{key:"componentDidMount",value:function(){var e=this.props.location.pathname.replace("/","").replace("/new","");this.setState({category:e})}},{key:"render",value:function(){var e=this;return this.handleRedirect(),o.a.createElement(Be.a,{className:"CreateTopic"},o.a.createElement(Pe.a,{className:"Title",variant:"h5",color:"inherit"},this.texts.title),o.a.createElement(Be.a,{className:"TitleInput"},o.a.createElement("input",{placeholder:this.texts.form.title,onChange:function(t){return e.setState({title:t.target.value})}})),o.a.createElement("textarea",{className:"DescriptionInput",placeholder:this.texts.form.description,onChange:function(t){return e.setState({description:t.target.value})}}),o.a.createElement("div",{className:"PostTopic"},o.a.createElement(he.a,{className:"Button",variant:"contained",onClick:this.postTopic},o.a.createElement(Pe.a,{variant:"subtitle1",color:"inherit"},this.texts.buttons.post),o.a.createElement(qe.a,{fontSize:"small"}," send ")),o.a.createElement("p",null," ",this.texts.return.orGo,o.a.createElement("b",{onClick:this.discardTopic},this.texts.return.back))))}}]),t}(r.Component));ze.contextTypes={router:We.a.object};var Ve=Object(me.b)("translations")(ze),Ye=a(49),Ze=a.n(Ye),$e=a(99),Je=a.n($e),Ke=(a(427),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.content.topic.components.ownerheader",{returnObjects:!0})},a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.getLocales()}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.repliedTo,n=e.owner,r=e.image,s=e.date,c="reply"===t?o.a.createElement("p",null,o.a.createElement("b",null,n)," ",this.texts.reply," ",o.a.createElement("b",null,a)):o.a.createElement("p",null," ",n?this.texts.post:""," ",o.a.createElement("b",null,n));return o.a.createElement("div",{className:"OwnerHeader"},o.a.createElement("img",{alt:"",src:r}),o.a.createElement(Pe.a,{className:"Text",variant:"subtitle1"},c),o.a.createElement(Pe.a,{className:"Date",variant:"subtitle1"},s?new Date(s).toLocaleString():""))}}]),t}(r.PureComponent)),Xe=Object(me.b)("translations")(Ke),et=(a(429),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.content.topic.components.reply",{returnObjects:!0})},a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.getLocales()}},{key:"render",value:function(){var e=this.props,t=e.owner,a=e.likes,n=e.text,r=e.date;return o.a.createElement("div",{className:"Reply"},o.a.createElement(Xe,{type:"post",owner:t,image:"media/User.jpg",date:r}),o.a.createElement("div",{className:"Body"},o.a.createElement(Pe.a,{component:"pre",multiline:!0,color:"inherit"},Re(n)),this.props.canReply&&o.a.createElement(Pe.a,{component:"p",onClick:this.props.onReply},o.a.createElement("b",null,this.texts.actions.reply))),o.a.createElement("div",{className:"Meta"},o.a.createElement(Pe.a,{className:"Likes",component:"p"},o.a.createElement("b",null,a)," ",this.texts.meta.likes)))}}]),t}(r.PureComponent)),tt=Object(me.b)("translations")(et),at=a(98),nt=a.n(at),rt=a(40),ot=a.n(rt),st=a(52),ct=a.n(st),it=(a(431),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).submit=function(){a.props.reply?a.props.onSubmit("@".concat(a.props.reply.owner.username," ").concat(a.state.comment)):a.props.onSubmit(a.state.comment),a.setState({comment:""})},a.cancel=function(){a.props.onCancel(),a.setState({comment:""})},a.state={comment:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reply?o.a.createElement("div",null,o.a.createElement("div",{className:"ReplyHeader"},o.a.createElement(Pe.a,{className:"Title",variant:"subtitle1"},"Reply to ",o.a.createElement("b",null,this.props.reply.owner.username)),o.a.createElement(Pe.a,{className:"Quote",variant:"subtitle1",noWrap:!0},'" '+Re(this.props.reply.body)+' "')),o.a.createElement(ot.a,null)):null;return o.a.createElement(nt.a,{anchor:"bottom",open:this.props.open,onClose:this.cancel},o.a.createElement("div",{className:"CommentBox"},t,o.a.createElement("textarea",{className:"CommentInput",autoFocus:!0,placeholder:"write a comment...",onChange:function(t){return e.setState({comment:t.target.value})}}),o.a.createElement("div",{className:"Actions"},o.a.createElement(ot.a,null),o.a.createElement(ct.a,null,o.a.createElement("div",{className:"CancelAction"},o.a.createElement(he.a,{className:"Button",color:"inherit",onClick:this.cancel},o.a.createElement(Pe.a,{variant:"subtitle1",color:"inherit"},"Cancel"),o.a.createElement(qe.a,{fontSize:"small",color:"inherit"}," delete "))),o.a.createElement("div",{className:"SubmitAction"},o.a.createElement(he.a,{className:"Button",color:"inherit",onClick:this.submit},o.a.createElement(Pe.a,{variant:"subtitle1",color:"inherit"},"Submit"),o.a.createElement(qe.a,{fontSize:"small",color:"inherit"}," send ")))))))}}]),t}(r.PureComponent)),lt=(a(438),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).postCommment=function(e){a.props.postComment(a.state.id,e),a.setState({commentBox:{open:!1,reply:null}})},document.title="Topic Page",a.state={id:"",commentBox:{open:!1,reply:null}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.replace(/ *\/[^)]*\/ */g,"");this.props.getTopic(e),this.setState({id:e})}},{key:"render",value:function(){var e=this;if(this.props.feedback.fetching)return o.a.createElement("div",{className:"Progress"},o.a.createElement(Se.a,{color:"inherit"}));var t=this.props.content.topic,a=t.comments.edges.map(function(t,a){return o.a.createElement(tt,{key:a,owner:t.node.owner.username,likes:t.node.likes?t.node.likes:"0",text:t.node.body,date:t.node.timestamp,canReply:Boolean(e.props.session.user),onReply:function(){return e.setState({commentBox:{open:!0,reply:t.node}})}})});return o.a.createElement(Be.a,{className:"Topic"},o.a.createElement("div",{className:"Post"},o.a.createElement("div",{className:"Header"},o.a.createElement(Pe.a,{className:"Title",variant:"h5"},t.title),o.a.createElement(Xe,{type:"post",owner:t.owner.username,image:"media/User.jpg",date:t.timestamp})),o.a.createElement(Pe.a,{className:"Description",variant:"body2",component:"pre"},Re(t.body)),o.a.createElement("div",{className:"PostActions"},this.props.session.user&&o.a.createElement(Je.a,{title:"Comment on post"},o.a.createElement(Ze.a,{onClick:function(){return e.setState({commentBox:{open:!0,reply:null}})}},o.a.createElement(qe.a,{color:"inherit"}," comment "))))),o.a.createElement("div",{className:"Replies"},a),o.a.createElement(it,{open:this.state.commentBox.open,reply:this.state.commentBox.reply,onCancel:function(){return e.setState({commentBox:{open:!1,reply:null}})},onSubmit:this.postCommment}))}}]),t}(r.Component)),ut=(a(445),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.content.topic.components.topicpreview",{returnObjects:!0})},a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.getLocales()}},{key:"render",value:function(){var e=this.props,t=e.owner,a=e.date,n=e.title,r=e.description,s=e.likes;return o.a.createElement("div",{className:"TopicPreview",onClick:this.props.onClick},o.a.createElement("div",{className:"body"},o.a.createElement("div",{className:"topic"},o.a.createElement(Pe.a,{className:"title",variant:"h5"},n),o.a.createElement(Pe.a,{className:"description"},Re(r))),o.a.createElement(Xe,{type:"post",owner:t,image:"media/User.jpg",date:a})),o.a.createElement("div",{className:"meta"},o.a.createElement(Pe.a,{className:"likes",component:"p"},o.a.createElement("b",null,s)," ",this.texts.meta.likes),o.a.createElement(Pe.a,{className:"replies",component:"p"},o.a.createElement("b",null,s)," ",this.texts.meta.replies)))}}]),t}(r.PureComponent)),pt=Object(me.b)("translations")(ut),mt=(a(447),function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e)),document.title="Category Page",a.state={name:"",id:"",fullPath:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getCategoryId()}},{key:"componentDidUpdate",value:function(){this.props.location.pathname!==this.state.fullPath&&this.getCategoryId()}},{key:"getCategoryId",value:function(){var e=this.props.location.pathname,t=e.replace(/[\/]/g,"");this.props.getCategory(t),this.setState({id:t,fullPath:e})}},{key:"render",value:function(){var e=this,t=null,a=this.props,n=a.content,r=a.session;return t=a.feedback.fetching&&0===n.category.topics.length?o.a.createElement("div",{className:"Progress"},o.a.createElement(Se.a,{color:"inherit"})):n.category.topics.map(function(t,a){return t?o.a.createElement(pt,{key:a,owner:t.node.owner.username,date:t.node.timestamp,title:t.node.title,description:t.node.description,likes:t.node.likes,category:e.state.name,onClick:function(){return e.props.history.push("/".concat(e.state.id,"/").concat(t.node.id))}}):null}),o.a.createElement(Be.a,{className:"CategoryView"},o.a.createElement("div",{className:"Header"},o.a.createElement("div",{className:"dummyDiv"}),o.a.createElement("h1",{className:"Title"},n.category.name),o.a.createElement("div",{className:"Actions"},r.user&&o.a.createElement(Je.a,{className:"Tooltip",title:"Create new topic"},o.a.createElement(Ze.a,{onClick:function(){return e.props.history.push("/"+n.category.id+"/new")}},o.a.createElement(qe.a,{color:"inherit"}," create "))))),o.a.createElement("div",{className:"topics"},t))}}]),t}(r.Component)),ft=(a(449),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.description;return o.a.createElement("div",{className:"CategoryPreview",onClick:this.props.onClick},o.a.createElement(Pe.a,{className:"name",variant:"h5"},t),o.a.createElement(Pe.a,{className:"name",variant:"h4"},a))}}]),t}(r.PureComponent)),ht=(a(451),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.content.search",{returnObjects:!0})},document.title="Search Page",a.state={query:"",fullPath:""},a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getSearchQuery()}},{key:"componentDidUpdate",value:function(){this.getLocales(),this.props.location.pathname!==this.state.fullPath&&this.getSearchQuery()}},{key:"getSearchQuery",value:function(){var e=this.props.location.pathname,t=e.replace("/search/","");this.props.getSearchResult(t),this.setState({query:t,fullPath:e})}},{key:"render",value:function(){var e=this;if(this.props.feedback.fetching)return o.a.createElement("div",{className:"Progress"},o.a.createElement(Se.a,{color:"inherit"}));var t,a,n=this.props.content,r=n.searchResult,s=(n.query,r.category.edges.map(function(t,a){return o.a.createElement(ft,{key:a,name:t.node.name,description:t.node.description,onClick:function(){return e.props.history.push("/".concat(t.node.id))}})})),c=r.topic.edges.map(function(t,a){var n=t.node,r=n.owner,s=n.body,c=n.date,i=n.likes,l=n.category,u=n.title;return o.a.createElement(pt,{key:a,owner:r?r.username:"",title:u,description:s,date:c,likes:i,onClick:function(){return e.props.history.push("/".concat(l,"/").concat(u))}})});return s.length>0&&(t=o.a.createElement(Pe.a,{className:"seperator",variant:"h5"},"Categories")),c.length>0&&(a=o.a.createElement(Pe.a,{className:"seperator",variant:"h5"},"Topics")),o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"header"},this.texts.title,' "',this.state.query,'"'),o.a.createElement(Be.a,{className:"SearchView"},a,c,t,s))}}]),t}(r.Component)),gt=Object(me.b)("translations")(ht),dt={getSearchResult:je.getSearchResult},Et={postTopic:je.postTopic,getTopic:je.getTopic,postComment:je.postComment},St={getCategory:je.getCategory,getCategories:je.getCategories};function bt(e){return{content:e.content,session:e.session,feedback:e.feedback}}var Tt={Topic:{Create:Object(f.b)(bt,Et)(Ve),View:Object(f.b)(bt,Et)(lt)},Category:{View:Object(f.b)(bt,St)(mt)},Home:{View:Object(f.b)(bt,Object(O.a)({},Et,St))(Fe)},Search:{SearchView:Object(f.b)(bt,dt)(gt)}},xt={GET_SETTINGS_REQUEST:"GET_SETTINGS_REQUEST",GET_SETTINGS_SUCCESS:"GET_SETTINGS_SUCCESS",GET_SETTINGS_FAILURE:"GET_SETTINGS_FAILURE",CHANGE_USERNAME_REQUEST:"CHANGE_USERNAME_REQUEST",CHANGE_USERNAME_SUCCESS:"CHANGE_USERNAME_SUCCESS",CHANGE_USERNAME_FAILURE:"CHANGE_USERNAME_FAILURE",CHANGE_EMAIL_REQUEST:"CHANGE_EMAIL_REQUEST",CHANGE_EMAIL_SUCCESS:"CHANGE_EMAIL_SUCCESS",CHANGE_EMAIL_FAILURE:"CHANGE_EMAIL_FAILURE",CHANGE_PASSWORD_REQUEST:"CHANGE_PASSWORD_REQUEST",CHANGE_PASSWORD_SUCCESS:"CHANGE_PASSWORD_SUCCESS",CHANGE_PASSWORD_FAILURE:"CHANGE_PASSWORD_FAILURE",CHANGE_LANGUAGE_REQUEST:"CHANGE_LANGUAGE_REQUEST",CHANGE_LANGUAGE_SUCCESS:"CHANGE_LANGUAGE_SUCCESS",CHANGE_LANGUAGE_FAILURE:"CHANGE_LANGUAGE_FAILURE"},Ct={getSettings:function(){return{type:xt.GET_SETTINGS_REQUEST,info:"fetching current settings"}},changeEmail:function(e,t){return{type:xt.CHANGE_EMAIL_REQUEST,info:"changing email",email:e,password:t}},changePassword:function(e,t){return{type:xt.CHANGE_PASSWORD_REQUEST,info:"changing password",password:e,newPassword:t}},changeLanguage:function(e){return{type:xt.CHANGE_LANGUAGE_REQUEST,info:"changing language",language:e}}},Ot={getSettings:w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(te);case 2:if(!(t=e.sent).error&&!t.user.error){e.next=8;break}return e.next=6,Object(R.c)({type:xt.GET_SETTINGS_FAILURE,error:t.error.message||t.user.error});case 6:e.next=10;break;case 8:return e.next=10,Object(R.c)({type:xt.GET_SETTINGS_SUCCESS,info:"Fetched settings",user:t.user});case 10:case"end":return e.stop()}},e,this)}),changeEmail:w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(ne,t.email,t.password);case 2:if(a=e.sent,!(n=a.settings).error&&!n.changeEmail.error){e.next=9;break}return e.next=7,Object(R.c)({type:xt.CHANGE_EMAIL_FAILURE,error:n.error.message||n.changeEmail.error});case 7:e.next=11;break;case 9:return e.next=11,Object(R.c)({type:xt.CHANGE_EMAIL_SUCCESS,info:"Fetched settings",user:n.changeEmail});case 11:return e.next=13,Object(R.c)({type:xt.CHANGE_LANGUAGE_SUCCESS,info:"language changed",data:n});case 13:case"end":return e.stop()}},e,this)}),changePassword:w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(re,t.password,t.newPassword);case 2:if(a=e.sent,!(n=a.settings).error&&!n.changePassword.error){e.next=9;break}return e.next=7,Object(R.c)({type:xt.CHANGE_PASSWORD_FAILURE,error:n.error.message||n.changePassword.error});case 7:e.next=11;break;case 9:return e.next=11,Object(R.c)({type:xt.CHANGE_PASSWORD_SUCCESS,info:"Fetched settings",user:n.changePassword});case 11:return e.next=13,Object(R.c)({type:xt.CHANGE_LANGUAGE_SUCCESS,info:"language changed",data:n});case 13:case"end":return e.stop()}},e,this)}),changeLanguage:w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(oe,t.language);case 2:if(a=e.sent,!(n=a.settings).error&&!n.changeSettings.error){e.next=9;break}return e.next=7,Object(R.c)({type:xt.GET_SETTINGS_FAILURE,error:n.error.message||n.changeSettings.error});case 7:e.next=11;break;case 9:return e.next=11,Object(R.c)({type:xt.GET_SETTINGS_SUCCESS,info:"Fetched settings",user:n.changeSettings});case 11:return e.next=13,Object(R.c)({type:xt.CHANGE_LANGUAGE_SUCCESS,info:"language changed",data:n});case 13:case"end":return e.stop()}},e,this)}),actionWatcher:w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.d)(xt.GET_SETTINGS_REQUEST,Ot.getSettings);case 2:return e.next=4,Object(R.d)(xt.CHANGE_EMAIL_REQUEST,Ot.changeEmail);case 4:return e.next=6,Object(R.d)(xt.CHANGE_PASSWORD_REQUEST,Ot.changePassword);case 6:return e.next=8,Object(R.d)(xt.CHANGE_LANGUAGE_REQUEST,Ot.changeLanguage);case 8:case"end":return e.stop()}},e,this)})},vt={user:{username:"",email:"",profilePicture:"",settings:{language:""}},info:"Fetching settings"};function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt.GET_SETTINGS_SUCCESS:case xt.CHANGE_EMAIL_SUCCESS:case xt.CHANGE_PASSWORD_SUCCESS:return Object(O.a)({},e,{user:t.user,info:t.info});case xt.CHANGE_LANGUAGE_SUCCESS:return Object(O.a)({},e,{user:Object(O.a)({},e.user,t.user),info:t.info});default:return e}}var _t=a(41),wt=a.n(_t),Rt=a(71),kt=a.n(Rt),jt=a(72),Ut=a.n(jt),Gt=a(73),Nt=a.n(Gt),At=a(100),Lt=a.n(At),It=a(187),Pt=a.n(It),Ht=a(101),Bt=a.n(Ht),Mt=a(186),Ft=a.n(Mt),Qt=(a(453),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onCancel=function(){a.props.onCancel(),a.setState({password:""})},a.onConfirm=function(){a.props.onConfirm(a.state.password),a.setState({password:""})},a.state={password:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(Lt.a,{className:"ConfirmDialog",open:this.props.open,onClose:this.props.onCancel,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Ft.a,{id:"alert-dialog-title"}," Confirm with password "),o.a.createElement(Bt.a,null,o.a.createElement(wt.a,{type:"password",fullWidth:!0,placeholder:"password",disableUnderline:!0,onChange:function(t){return e.setState({password:t.target.value})}})),o.a.createElement(Pt.a,null,o.a.createElement(he.a,{onClick:this.onCancel,className:"CancelAction"},"Cancel"),o.a.createElement(he.a,{onClick:this.onConfirm,className:"SaveAction",autoFocus:!0},"Confirm")))}}]),t}(r.PureComponent)),Wt=(a(459),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).submit=function(e){a.setState({text:"",confirm:!1}),a.props.onSubmit(a.state.text,e)},a.validateEmail=function(e){return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},a.state={text:"",confirm:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(kt.a,{className:"TextPanel"},o.a.createElement(Ut.a,{expandIcon:o.a.createElement(qe.a,null," expand_more ")},o.a.createElement("div",{className:"Heading"},o.a.createElement(Pe.a,{className:"Title"},this.props.title),o.a.createElement(Pe.a,{className:"Description"},this.props.description))),o.a.createElement(Nt.a,null,o.a.createElement(wt.a,{type:this.props.type,fullWidth:!0,placeholder:this.props.placeholder,disableUnderline:!0,value:this.state.text,onChange:function(t){return e.setState({text:t.target.value})}})),o.a.createElement(ot.a,null),o.a.createElement(ct.a,null,o.a.createElement(he.a,{size:"small",className:"SaveAction",color:"inherit",onClick:function(){e.validateEmail(e.state.text)?e.setState({confirm:!0}):alert("Invalid email")}},this.props.saveText)),o.a.createElement(Qt,{open:this.state.confirm,onConfirm:this.submit,onCancel:function(){return e.setState({confirm:!1})}}))}}]),t}(r.Component)),Dt=(a(466),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).submit=function(e){a.props.onSubmit(a.state.newPassword,e),a.setState({newPassword:"",repeatPassword:"",confirm:!1})},a.state={newPassword:"",repeatPassword:"",confirm:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(kt.a,{className:"PasswordPanel"},o.a.createElement(Ut.a,{expandIcon:o.a.createElement(qe.a,null," expand_more ")},o.a.createElement("div",{className:"Heading"},o.a.createElement(Pe.a,{className:"Title"},this.props.title),o.a.createElement(Pe.a,{className:"Description"},this.props.description))),o.a.createElement(Nt.a,null,o.a.createElement(wt.a,{className:"Password",fullWidth:!0,type:"password",placeholder:"New password",disableUnderline:!0,value:this.state.newPassword,onChange:function(t){return e.setState({newPassword:t.target.value})}}),o.a.createElement(wt.a,{className:"RepeatPassword",fullWidth:!0,type:"password",placeholder:"Repeat password",disableUnderline:!0,value:this.state.repeatPassword,onChange:function(t){return e.setState({repeatPassword:t.target.value})}})),o.a.createElement(ot.a,null),o.a.createElement(ct.a,null,o.a.createElement(he.a,{size:"small",className:"SaveAction",color:"inherit",onClick:function(){e.state.newPassword===e.state.repeatPassword?e.setState({confirm:!0}):(alert("Passwords doesnt match"),e.setState({newPassword:"",repeatPassword:"",confirm:!1}))}},this.props.saveText)),o.a.createElement(Qt,{open:this.state.confirm,onConfirm:this.submit,onCancel:function(){return e.setState({confirm:!1})}}))}}]),t}(r.Component)),qt=a(125),zt=a.n(qt),Vt=a(74),Yt=a.n(Vt),Zt=a(126),$t=a.n(Zt),Jt=(a(468),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).submit=function(){a.props.onSubmit(a.state.language),a.setState({open:!1})},a.handleChange=function(e){a.setState({language:e.target.value,change:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleOpen=function(){a.setState({open:!0})},a.state={language:"",change:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.state.language===this.props.current||this.state.change||this.setState({language:this.props.current})}},{key:"render",value:function(){return o.a.createElement(kt.a,{className:"LanguagePanel"},o.a.createElement(Ut.a,{expandIcon:o.a.createElement(qe.a,null," expand_more ")},o.a.createElement("div",{className:"Heading"},o.a.createElement(Pe.a,{className:"Title"},this.props.title),o.a.createElement(Pe.a,{className:"Description"},this.props.description))),o.a.createElement(Nt.a,{className:"expansionPanel"},o.a.createElement(zt.a,{htmlFor:"language"},"Langage"),o.a.createElement($t.a,{className:"select",open:this.state.open,onClose:this.handleClose,onOpen:this.handleOpen,value:this.state.language,onChange:this.handleChange,inputProps:{name:"language",id:"language"}},o.a.createElement(Yt.a,{value:"en"},"English"),o.a.createElement(Yt.a,{value:"no"},"Norwegian"))),o.a.createElement(ot.a,null),o.a.createElement(ct.a,null,o.a.createElement(he.a,{size:"small",className:"SaveAction",color:"inherit",onClick:this.submit},this.props.saveText)))}}]),t}(r.Component)),Kt=(a(472),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("feature.user.settings",{returnObjects:!0})},a.changeEmail=function(e,t){a.props.changeEmail(e,t)},a.changePassword=function(e,t){a.props.changePassword(e,t)},a.changeLanguage=function(e){a.props.changeLanguage(e),"no"===e&&(e="nb-NO"),a.props.i18n.changeLanguage(e,function(t,a){if(t)return console.error("Error when changing language:",t);a(e)})},a.state={username:"",email:"",profilePicture:""},a.props.getSettings(),a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.session.user||this.context.router.history.replace("/portal/login"),this.getLocales()}},{key:"render",value:function(){var e=this,t=this.props.user.user,a=t.username,n=t.email,r=t.profilePicture,s=t.settings;return o.a.createElement(Be.a,{className:"SettingsView"},o.a.createElement("img",{src:"media/User.jpg",alt:r}),o.a.createElement("div",{className:"username"},a),o.a.createElement("div",{className:"Panels"},o.a.createElement(Wt,{title:this.texts.email.title,description:this.texts.email.description,placeholder:n,saveText:this.texts.save,onSubmit:function(t,a){return e.changeEmail(t,a)}}),o.a.createElement(Dt,{title:this.texts.password.title,description:this.texts.password.description,saveText:this.texts.save,onSubmit:function(t,a){return e.changePassword(a,t)}}),o.a.createElement(Jt,{title:"Language",description:"Change the language for this account",current:s.language,saveText:this.texts.save,onSubmit:function(t){return e.changeLanguage(t)}})))}}]),t}(r.Component));Kt.contextTypes={router:We.a.object};var Xt=Object(me.b)("translations")(Kt),ea={getSettings:Ct.getSettings,changeEmail:Ct.changeEmail,changePassword:Ct.changePassword,changeLanguage:Ct.changeLanguage};var ta={Settings:{View:Object(f.b)(function(e){return{user:e.user,session:e.session,feedback:e.feedback}},ea)(Xt)}},aa=w.a.mark(na);function na(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([le.actionWatcher(),Ue.actionWatcher(),Ot.actionWatcher()]);case 2:case"end":return e.stop()}},aa,this)}var ra=a(500),oa=a(188),sa=a.n(oa),ca=(a(474),_e.Login),ia=_e.Register,la=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={location:"login"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token"),t=this.props.session.user;e&&!t&&this.props.getUser(),this.getLocation()}},{key:"componentDidUpdate",value:function(){this.props.location.pathname.replace("/portal/","")!==this.state.location&&this.getLocation()}},{key:"getLocation",value:function(){var e=this.props.location.pathname.replace("/portal/","");this.setState({location:e})}},{key:"render",value:function(){var e,t=this;return"login"===this.state.location?e=o.a.createElement(ca,{goToRegister:function(){t.context.router.history.replace("register")},onLoggedIn:function(){t.context.router.history.replace("/")}}):"register"===this.state.location?e=o.a.createElement(ia,{goToLogin:function(){t.context.router.history.replace("login")},onLoggedIn:function(){t.context.router.history.replace("/")}}):this.context.router.history.replace("/nope"),o.a.createElement("div",{className:"AuthLayout"},o.a.createElement("div",{className:"DialogLayout"},o.a.createElement("div",{className:"Title"},o.a.createElement("img",{alt:"",src:"logo.png"})),e),o.a.createElement(sa.a,{className:"ImageLayout_Image",src:"media/authBackground.jpg",loader:o.a.createElement("img",{className:"ImageLayout_Placeholder",src:"media/authBackground_low.jpg",alt:""})}))}}]),t}(r.Component);la.contextTypes={router:We.a.object};var ua=la,pa=a(194),ma=a.n(pa),fa=a(195),ha=a.n(fa),ga=a(83),da=a(124),Ea=a(59),Sa=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleRedirect=function(e){var t=e.target.value.replace(/[\/]/g," ");if("Enter"===e.key){if(""===t.trim())return;n.setState({path:"/search/".concat(t),redirect:!0}),e.target.value=""}},n.renderRedirect=function(){var e=n.state.path;n.state.redirect&&n.context.router.history.push(e)},n.state={path:"",redirect:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.search},o.a.createElement("div",{className:t.searchIcon},o.a.createElement(qe.a,null," search ")),this.renderRedirect(),o.a.createElement(wt.a,{placeholder:this.props.placeholder,disableUnderline:!0,classes:{root:t.inputRoot,input:t.inputInput},onKeyPress:function(t){return e.handleRedirect(t)}}))}}]),t}(r.PureComponent);Sa.contextTypes={router:We.a.object};var ba=Object(da.withStyles)(function(e){return{searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},search:Object(ga.a)({flexGrow:1,position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ea.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ea.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),inputRoot:{color:"inherit",width:"100%"},inputInput:Object(ga.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200})}})(Sa),Ta=a(97),xa=a.n(Ta),Ca=a(191),Oa=a.n(Ca),va=a(189),ya=a.n(va),_a=a(190),wa=a.n(_a);var Ra=function(e){return e.classes,o.a.createElement(Yt.a,{id:e.link,onClick:e.onClick},o.a.createElement(ya.a,null,o.a.createElement(qe.a,null," ",e.icon," ")),o.a.createElement(wa.a,{primaryTypographyProps:{noWrap:!0}},e.title))},ka=(a(478),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getLocales=function(){var e=a.props.t;a.texts=e("layout.main",{returnObjects:!0})},a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.getLocales()}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"Sidebar"},o.a.createElement("div",{className:"Title"},o.a.createElement("img",{alt:"",src:"logo.png"})),o.a.createElement(xa.a,null,o.a.createElement(Ra,{icon:"home",title:this.texts.sidebar.home,link:"/",onClick:function(t){return e.context.router.history.push(t.currentTarget.id)}})),this.props.isAuthenticated&&o.a.createElement("div",null,o.a.createElement(ot.a,null),o.a.createElement(xa.a,{subheader:o.a.createElement(Oa.a,{component:"div",className:"Subheader"},"Favorites")},o.a.createElement(Ra,{title:"Music",link:"/Music",onClick:function(t){return e.context.router.history.push(t.currentTarget.id)}}),o.a.createElement(Ra,{title:"Programming Humor",link:"/Programming Humor",onClick:function(t){return e.context.router.history.push(t.currentTarget.id)}}))));return o.a.createElement("div",null,o.a.createElement(nt.a,{open:this.props.open,onClose:this.props.onClose},o.a.createElement("div",{tabIndex:0,role:"button",onClick:this.props.onClose,onKeyDown:this.props.onClose},t)))}}]),t}(r.PureComponent));ka.contextTypes={router:We.a.object};var ja=Object(me.b)("translations")(ka),Ua=a(192),Ga=a.n(Ua),Na=(a(481),_e.Login),Aa=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.props.open?o.a.createElement(Lt.a,{className:"LoginDialog",fullScreen:this.props.fullScreen,open:this.props.open,onClose:this.props.onClose,"aria-labelledby":"responsive-dialog-title"},o.a.createElement(Bt.a,{className:"Content"},o.a.createElement(Na,{onLoggedIn:this.props.onClose,goToRegister:function(){e.context.router.history.replace("/portal/register")}}))):null}}]),t}(r.Component);Aa.contextTypes={router:We.a.object};var La=Ga()()(Aa),Ia=a(193),Pa=a.n(Ia),Ha=a(127),Ba=a.n(Ha),Ma=(a(486),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).openMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.closeMenu=function(){a.setState({anchorEl:null})},a.state={anchorEl:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user,a=this.state.anchorEl;return o.a.createElement("div",{className:"User"},o.a.createElement(Ze.a,{"aria-owns":a?"simple-menu":null,"aria-haspopup":"true",onClick:this.openMenu},o.a.createElement("img",{className:"Avatar",alt:"",src:"media/User.jpg"})),o.a.createElement(Pa.a,{id:"simple-menu",anchorEl:a,open:Boolean(a),onClose:this.closeMenu},o.a.createElement(Ba.a,{className:"nameField"},o.a.createElement("div",null,t.username)),o.a.createElement(ot.a,null),o.a.createElement(Ra,{icon:"settings",title:"Settings",link:"/settings",onClick:function(t){e.context.router.history.push(t.currentTarget.id),e.closeMenu()}}),o.a.createElement(Ra,{icon:"exit_to_app",title:"Logout",onClick:function(){e.props.onLogout(),e.closeMenu()}})))}}]),t}(r.Component));Ma.contextTypes={router:We.a.object};var Fa=Ma,Qa=(a(488),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).changeLanguage=function(){if(a.props.user){var e=a.props.user.user.settings.language;a.props.i18n.language!==e&&a.props.i18n.changeLanguage(e,function(e,t){if(e)return console.err("Error when changing language",e)})}},a.getLocales=function(){var e=a.props.t;a.texts=e("layout.main",{returnObjects:!0})},a.state={showSidebar:!1,showLogin:!1},a.getLocales(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.getLocales()}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("token"),t=this.props.session.user;e&&!t&&this.props.getUser()}},{key:"render",value:function(){var e=this;this.changeLanguage();var t=this.props.session.user,a=t?o.a.createElement(Fa,{user:t,onLogout:this.props.logout}):o.a.createElement(he.a,{color:"inherit",onClick:function(){return e.setState({showLogin:!0})}},this.texts.navbar.login);return o.a.createElement("div",{className:"MainLayout"},o.a.createElement(ma.a,{position:"fixed",className:"AppBar"},o.a.createElement(ha.a,{className:"Toolbar"},o.a.createElement("div",null,o.a.createElement(Ze.a,{className:"MenuButton",color:"inherit","aria-label":"Menu",onClick:function(){return e.setState({showSidebar:!0})}},o.a.createElement(qe.a,null," menu "))),o.a.createElement("div",{className:"SearchBar"},o.a.createElement(ba,{placeholder:this.texts.navbar.search})),o.a.createElement("div",{className:"User"},a)),o.a.createElement(La,{open:this.state.showLogin,onClose:function(){return e.setState({showLogin:!1})}})),o.a.createElement(ja,{open:this.state.showSidebar,isAuthenticated:Boolean(t),onClose:function(){return e.setState({showSidebar:!1})}}),o.a.createElement("div",{className:"MainLayout-Content"},this.props.children))}}]),t}(r.Component));Qa.contextTypes={router:We.a.object};var Wa=Object(me.b)("translations")(Qa),Da={getUser:ie.getUser,logout:ie.logout};function qa(e){var t=e.session,a=e.user;return{session:t,feedback:e.feedback,user:a}}var za={AuthLayout:Object(ra.a)(Object(f.b)(qa,Da)(ua)),MainLayout:Object(ra.a)(Object(f.b)(qa,Da)(Wa))},Va=a(196),Ya=a.n(Va)()(),Za=Object(h.a)(),$a=Object(E.d)(Object(E.c)(n),Object(E.a)(d.a),Object(E.a)(Za));Za.run(na);var Ja=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(S.a,{history:Ya},o.a.createElement(f.a,{store:$a},o.a.createElement(b.a,null,o.a.createElement(T.a,{path:"/nope",component:_e.NotFound}),o.a.createElement(T.a,{path:"/portal",component:za.AuthLayout}),o.a.createElement(T.a,{path:"/"},o.a.createElement(za.MainLayout,null,o.a.createElement(b.a,null,o.a.createElement(T.a,{exact:!0,path:"/",component:Tt.Home.View}),o.a.createElement(T.a,{exact:!0,path:"/settings",component:ta.Settings.View}),o.a.createElement(T.a,{exact:!0,path:"/search/:query",component:Tt.Search.SearchView}),o.a.createElement(T.a,{exact:!0,path:"/:category/new",component:Tt.Topic.Create}),o.a.createElement(T.a,{exact:!0,path:"/:category/:topic",component:Tt.Topic.View}),o.a.createElement(T.a,{exact:!0,path:"/:category",component:Tt.Category.View}),o.a.createElement(x.a,{to:"/nope"})))))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ka=a(131),Xa={layout:{main:{navbar:{search:"S\xf8k",login:"Logg in"},sidebar:{home:"Hjem"}}},feature:{user:{settings:{save:"Lagre",username:{title:"Brukernavn",description:"Bytt brukernavnet for denne kontoen"},email:{title:"Epost",description:"Bytt epost for denne kontoen"},password:{title:"Passord",description:"Bytt passord for denne kontoen"}}},content:{home:{title:"Hva er din kopp te?"},search:{title:"S\xf8keresultat for "},topic:{create:{title:"NYTT INNLEGG",form:{title:"Tittel...",description:"Beskrivelse..."},buttons:{post:"Legg ut"},return:{orGo:"Eller g\xe5 ",back:"tilbake"}},components:{ownerheader:{post:"Lagt inn av ",reply:"svarte "},reply:{actions:{reply:"svar"},meta:{likes:"liker"}},topicpreview:{meta:{likes:" liker",replies:" svar"}}}}},session:{login:{fields:{username:"Brukernavn",password:"Passord"},loginButton:"Logg inn",notAMember:"Ikke medlem?",register:"Registrer"},register:{fields:{username:"Brukernavn",email:"Epost",password:"Passord",repeatPassword:"Gjenta passord"},registerButton:"Registrer bruker",alreadyMember:"Allerede medlem?",login:"Logg inn"}}}},en={"layout.main":Xa.layout.main,"feature.user.settings":Xa.feature.user.settings,"feature.session.login":Xa.feature.session.login,"feature.session.register":Xa.feature.session.register,"feature.content.home":Xa.feature.content.home,"feature.content.search":Xa.feature.content.search,"feature.content.topic.create":Xa.feature.content.topic.create,"feature.content.topic.components.ownerheader":Xa.feature.content.topic.components.ownerheader,"feature.content.topic.components.reply":Xa.feature.content.topic.components.reply,"feature.content.topic.components.topicpreview":Xa.feature.content.topic.components.topicpreview},tn={layout:{main:{navbar:{search:"Search",login:"Login"},sidebar:{home:"Home"}}},feature:{user:{settings:{save:"Save",username:{title:"Username",description:"Change username for this account"},email:{title:"Email",description:"Change email for this account"},password:{title:"Password",description:"Change password for this account"}}},content:{home:{title:"What's your cup of tea?"},search:{title:"Search results for "},topic:{create:{title:"New topic",form:{title:"Titel...",description:"Description..."},buttons:{post:"Post"},return:{orGo:"or go ",back:"back"}},components:{ownerheader:{post:"Posted by ",reply:"Reply "},reply:{actions:{reply:"Reply"},meta:{likes:"Likes"}},topicpreview:{meta:{likes:" Likes",replies:" Replies"}}}}},session:{login:{fields:{username:"Username",password:"Password"},loginButton:"Login",notAMember:"Not a member?",register:"Register"},register:{fields:{username:"Username",email:"Email",password:"Password",repeatPassword:"Repeat Password"},registerButton:"Register User",alreadyMember:"Existing User?",login:"Login"}}}},an={"layout.main":tn.layout.main,"feature.user.settings":tn.feature.user.settings,"feature.session.login":tn.feature.session.login,"feature.session.register":tn.feature.session.register,"feature.content.home":tn.feature.content.home,"feature.content.search":tn.feature.content.search,"feature.content.topic.create":tn.feature.content.topic.create,"feature.content.topic.components.ownerheader":tn.feature.content.topic.components.ownerheader,"feature.content.topic.components.reply":tn.feature.content.topic.components.reply,"feature.content.topic.components.topicpreview":tn.feature.content.topic.components.topicpreview};Ka.a.init({resources:{no:{translations:en},en:{translations:an}},fallbackLng:"en",debug:!0,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});var nn=Ka.a,rn=window.location.protocol+"//"+window.location.host;c.a.render(o.a.createElement(me.a,{i18n:nn},o.a.createElement("div",null,o.a.createElement("base",{href:rn,target:"_blank"}),o.a.createElement(Ja,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[198,2,1]]]);
//# sourceMappingURL=main.05202b1f.chunk.js.map